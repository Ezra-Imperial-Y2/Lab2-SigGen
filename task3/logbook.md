# Logbook LAB 2:
## Task 3: Capture and display audio signal in RAM

- [Logbook LAB 2:](#logbook-lab-2)
  - [Task 3: Capture and display audio signal in RAM](#task-3-capture-and-display-audio-signal-in-ram)
    - [What I did:](#what-i-did)
    - [Problems encountered:](#problems-encountered)
    - [Other reflexions:](#other-reflexions)

### What I did:
* In _ram2ports_:
  * Created a 2 ports RAM module 512x8 bits. 
    * *wr_addr* gives the points for the mic_in signal
    * *rd_addr* is used is a delayed version of mic_in
    * Using an **offset** value generated by the rotary switch on the processor --> *wr_addr* - offset 

    * **EXPLANATION**: The RAM reads/writes and stores to sucessive locations variables picked up by the onboard microphone. Thus 2 signals are outputed to the TFT: 
      * 1. Real-time audio signal
      * 2. Delayed audio signal 
* In _sigdelay.sv_:
  * This *top-layer* component links together the counter and the RAM. It 'wires' everything together: The _dout_ to the _delayed_signal_, the _din_ to the _mic_signal_, the _count_ to the _wr_addr_, ...
* In _testbench_ (Already provided): 
  * It reads the signal provided by the onboard microphone and writes to the RAM
  * It sets the delay and links it the rotary encoder
  * It plots the _mic_signal_ and the _delayed_signal_ to the TFT display. 
  
![schematic](./logbook_image/delayed_signa%20L2T3.png)


* The image above shows both the input signal (**440 Hz** sine wave) and the delayed signal. It can clearly be seen that delayed signal (1st waveform) starts 100 ps after the original signal. Then it will copy it until the processor is killed. 
  
### Problems encountered:

* Mostly syntax error while creating the _ram2ports.sv_ file. 
  
* Confusion when creating the _sigdelays.sv_ file because I had to remind myself how/which signals needed to be 'wired' together. In order to clarify my thoughts I needed to draw a diagram. 
  
---

### Other reflexions: 

   - In this task I have not used the flexibility of SystemVerilog and hard-coded all the modules.  
     - **FIX**: For the next task I will use this flexibility so that my program will be more scalable - In case I want to change the size of my RAM / counter. 


